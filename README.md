# Hangman
#list of words the user will randomly be given a word from, depending on what category they choose
snacks_list = ['chips', 'candy', 'nuts', 'cereal', 'popcorn', 'granola', 'cookies', 'pretzels', 'crackers', 'churros', 'chocolate', 'marshmallow', 'milkshakes', 'lunchables', 'strawberries', 'wheatables']
dessert_list = ['cakes', 'eclair', 'fudge', 'brownie', 'gelato', 'cheesecake', 'doughnut', 'ambrosia', 'macaroons', 'meringue', 'butterscotch', 'gingerbread', 'zabaglione', 'marshmallow', 'snickerdoodle']
drinks_list = ['wine', 'coffee', 'juice', 'water', 'vodka', 'lemonade', 'smoothie', 'macchiato', 'cocktail', 'espresso', 'cappuccino', 'frappuccino', 'americano', 'screwdriver', 'cosmopolitan']

#username is saved and later used to associate scores with
answer = input("What is your name?")
username = answer

#instructions
print("Welcome to Hangman. We will ask you to guess a word generated by the computer. You will do this by guessing letter by letter. Whenever you get a letter wrong, you will lose a life (You have a total of 9 lives). If you can guess before the number of attempts run out, you will win.")

input("Press enter to continue...")

#selecting the category to get a word from
answer = input("Please choose what category you want your word to be from, by typing in snacks, drinks, or desserts.")
import random
if answer == "snacks":
   hiddenword = random.choice(snacks_list)
if answer == "drinks":
    hiddenword = random.choice(drinks_list)
if answer == "desserts":
    hiddenword = random.choice(dessert_list)
if not((answer == "snacks" or "desserts" or "drinks")):
   print("Please select a category to play from by typing in snacks, drinks, or desserts")
       
#the blank spaces to be filled out will be added to guess_word, depending on length of the chosen word
guess_word = []
word_length = len(hiddenword)
alphabet = "abcdefghijklmnopqrstuvwxyz"
#letters that have been guessed so far will be added to letters
letters = []
max_attempts = 9
   
def change():
#Printing an amount of blank spaces that correspond to the length of the word
    for character in hiddenword:
        guess_word.append("_")

    print("Your selected word has", word_length, "letters.")
   
    print("You can begin guessing by typing in a letter.")
   
    print(guess_word)

change()

def guessing():
#will check whether the letters being guessed are in the word or not, keeping track of how many guesses are being made
   guess_tried = 0
   guess_tried = int(guess_tried)
   
   while guess_tried < 9:

      guess = input("Guess a letter ").lower()
#ensures input is a letter
      if not guess in alphabet:
         print("Please enter a letter.")
#ensures the letter being guessed is new
      elif guess in letters:
         print("You have already guessed that letter.")
#checks if letter is actually in the word or not
      else:
         letters.append(guess)
         if guess in hiddenword:
               print("You guessed correctly!")
#goes through the word, checking if/how many times the leter is in the word, and then replaces the blank space with the letter
               for n in range(0, word_length):
                  if hiddenword[n] == guess:
                     guess_word[n] = guess
                     print(guess_word)
#when there are no more blank spaces, this means the word has been guessed. Game is exited
               if not '_' in guess_word:
                  print("You won!")
                  break
         else:
               print("The letter is not in the word. Try Again!")
               guess_tried = guess_tried + 1
#if the maximum number of attempts have been fulfilled, the player has lost
         if guess_tried < max_attempts:
            print(max_attempts - guess_tried, "attempts left")
            if guess_tried == 9:
               print(" Sorry, you've run out of attempts! The word was", hiddenword)

guessing()
print("Game Over!")

#allowing player to compare their score with others
#will take the score and username of the player and write it to a file keeping track of everyone's score so far
#will read the file so that the player can see how their score compares to others

possible_answers = ['0','1','2','3','4','5','6','7','8','9']
answer = input("Would you like to know how your score compares to other players?").lower()
if answer == "yes":
   save_name = username
   attempts_left = input("How many attempts did you have left before you finished?")
   scores_so_far = []
   scores_so_far.append(attempts_left)
#appends the username and their score into a file that holds everyone's score so far
   text_file = open("highest_score.txt", "a")
   text_file.write("\n {} has a score of {} \n".format(username, attempts_left))
   text_file.close()
   
#prints the file so that you can see your score and others score as well
   print ("\n")
   text_file = open("highest_score.txt", "r")
   whole_thing = text_file.read()
   print (whole_thing)
   text_file.close()
   
   input("Press enter to continue...")
   #checking if user has the highest score (not just comparing to others)
   #opening and appending to a new file, so that the scores will be saved for multiple sessions
   text_file = open("new_high_score.txt", "a")
   text_file.write(attempts_left)
   text_file.close()
   
   print ("\n")
   text_file = open("new_high_score.txt", "r")
   text_file.close()
   filename = "new_high_score.txt"
   
#converts the numbers in the file to a list, so that all of the total scores are present
   with open(filename) as f:
      lines = f.read()
      type(lines)
#looks through the scores to see whether the current score given is the highest or not
      print("The highest score so far is", max(lines))
      high_score = max(lines)
      if attempts_left > high_score:
         high_score = attempts_left
         print("You have the highest score!")
      else:
         print("Sorry, but you don't have the highest score.")   
   
if answer == "no":
   print("Thanks for playing!")
